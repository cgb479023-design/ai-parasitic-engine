# Google Vids å®Œæ•´å·¥ä½œæµé—­ç¯

## ğŸ“‹ å·¥ä½œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         REACT å‘å¸ƒè®¡åˆ’                                    â”‚
â”‚  - ç”¨æˆ·ç‚¹å‡»æ‰§è¡Œé˜Ÿåˆ—                                                        â”‚
â”‚  - postMessage('GOOGLE_VIDS_GENERATE', { prompt, uploadData })           â”‚
â”‚  - uploadData åŒ…å«: title, description, tags, scheduleDate, scheduleTime â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONTENT.JS (localhost)                               â”‚
â”‚  - ç›‘å¬ GOOGLE_VIDS_GENERATE æ¶ˆæ¯                                        â”‚
â”‚  - chrome.runtime.sendMessage('storeGoogleVidsRequest', data)            â”‚
â”‚  - chrome.runtime.sendMessage('openGoogleVidsTab')                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       BACKGROUND.JS                                     â”‚
â”‚  - storeGoogleVidsRequest: å­˜å‚¨åˆ° chrome.storage.local                   â”‚
â”‚  - openGoogleVidsTab: æ‰“å¼€/å¤ç”¨ Google Vids æ ‡ç­¾é¡µ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   GOOGLE VIDS TAB (content.js)                          â”‚
â”‚  1. getGoogleVidsRequest: è·å–å­˜å‚¨çš„è¯·æ±‚                                   â”‚
â”‚  2. findPromptInput: æŸ¥æ‰¾æç¤ºè¯è¾“å…¥æ¡†                                      â”‚
â”‚  3. è¾“å…¥ sanitized prompt                                               â”‚
â”‚  4. setAspectRatio: è®¾ç½® 9:16 çºµæ¨ªæ¯”                                      â”‚
â”‚  5. findGenerateButton: ç‚¹å‡» Generate æŒ‰é’®                               â”‚
â”‚  6. waitForVideoGeneration: ç­‰å¾…æ—¶é—´è½´æ˜¾ç¤ºæœ‰æ•ˆæ—¶é•¿                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è§†é¢‘ç”Ÿæˆå®Œæˆæ£€æµ‹                                      â”‚
â”‚  - æ£€æµ‹æ—¶é—´è½´: 00:00.0 / 00:05.0 (total != 00:00.0)                      â”‚
â”‚  - å­˜å‚¨ uploadData: storeGoogleVidsUploadData                           â”‚
â”‚  - ç‚¹å‡» File > Download è§¦å‘ä¸‹è½½                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BACKGROUND.JS ä¸‹è½½æ‹¦æˆªå™¨                                 â”‚
â”‚  - chrome.downloads.onCreated: æ£€æµ‹æ–°ä¸‹è½½                                 â”‚
â”‚  - chrome.downloads.onChanged: æ£€æµ‹ä¸‹è½½å®Œæˆ                               â”‚
â”‚  - è·å– filePath                                                        â”‚
â”‚  - è¯»å– googleVidsUploadData                                            â”‚
â”‚  - æ‰“å¼€ YouTube Studio: gemini_id={uploadData.id}                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    YOUTUBE STUDIO (content.js)                          â”‚
â”‚  1. æ£€æµ‹ gemini_id ä» URL                                               â”‚
â”‚  2. getVideoData: è·å–è§†é¢‘æ•°æ®                                            â”‚
â”‚  3. ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©ä¸‹è½½çš„è§†é¢‘æ–‡ä»¶*                                             â”‚
â”‚  4. è‡ªåŠ¨å¡«å……: title, description, tags                                   â”‚
â”‚  5. è®¾ç½® Schedule: scheduleDate, scheduleTime                           â”‚
â”‚  6. ç‚¹å‡»å‘å¸ƒ/è®¡åˆ’æŒ‰é’®                                                      â”‚
â”‚  7. æ£€æµ‹ä¸Šä¼ å®Œæˆ                                                          â”‚
â”‚  8. relayYouTubeUploadComplete: å‘é€å®Œæˆä¿¡å·                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       BACKGROUND.JS                                     â”‚
â”‚  - relayYouTubeUploadComplete: è½¬å‘åˆ° localhost æ ‡ç­¾é¡µ                    â”‚
â”‚  - å‘é€ YOUTUBE_UPLOAD_COMPLETE æ¶ˆæ¯ï¼ŒåŒ…å« videoId                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONTENT.JS (localhost)                               â”‚
â”‚  - æ¥æ”¶ YOUTUBE_UPLOAD_COMPLETE                                         â”‚
â”‚  - window.postMessage è½¬å‘ç»™ React                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         REACT å‘å¸ƒè®¡åˆ’                                    â”‚
â”‚  - æ¥æ”¶ YOUTUBE_UPLOAD_COMPLETE                                         â”‚
â”‚  - åŒ¹é… videoId === index                                               â”‚
â”‚  - ç§»é™¤ uploadHandler ç›‘å¬å™¨                                             â”‚
â”‚  - æ›´æ–°çŠ¶æ€: âœ… Published!                                               â”‚
â”‚  - é˜Ÿåˆ—ç»§ç»­: å¤„ç†ä¸‹ä¸€ä¸ªè§†é¢‘                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* æ³¨æ„: ç”±äº Chrome MV3 å®‰å…¨é™åˆ¶ï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©ä¸‹è½½çš„è§†é¢‘æ–‡ä»¶
```

## ğŸ” å…³é”®ä»£ç ä½ç½®

| æ­¥éª¤ | æ–‡ä»¶ | è¡Œå· | åŠŸèƒ½ |
|------|------|------|------|
| React å‘é€è¯·æ±‚ | YouTubeAnalytics.tsx | ~7307 | postMessage GOOGLE_VIDS_GENERATE |
| Content è½¬å‘ | content.js | ~441 | ç›‘å¬å¹¶è½¬å‘åˆ° background |
| Background å­˜å‚¨ | background.js | ~277 | storeGoogleVidsRequest |
| Background æ‰“å¼€æ ‡ç­¾ | background.js | ~325 | openGoogleVidsTab |
| Google Vids è‡ªåŠ¨åŒ– | content.js | ~7200+ | runGoogleVidsAutomation |
| æ—¶é—´è½´æ£€æµ‹ | content.js | ~7554 | durationMatch regex |
| ä¸‹è½½è§¦å‘ | content.js | ~7337 | File > Download |
| ä¸‹è½½æ‹¦æˆª | background.js | ~1180+ | chrome.downloads.onChanged |
| YouTube ä¸Šä¼ å®Œæˆ | content.js | ~5960 | relayYouTubeUploadComplete |
| è½¬å‘åˆ° React | background.js | ~852 | YOUTUBE_UPLOAD_COMPLETE |
| React æ¥æ”¶ | YouTubeAnalytics.tsx | ~7339 | uploadHandler |

## âš ï¸ å·²çŸ¥é™åˆ¶

1. **è§†é¢‘æ–‡ä»¶é€‰æ‹©**: Chrome MV3 æ— æ³•ç›´æ¥è¯»å–ä¸‹è½½æ–‡ä»¶ï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©
2. **å•æ ‡ç­¾é¡µå¤ç”¨**: Google Vids ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œé¿å…é‡å¤æ‰“å¼€æ ‡ç­¾é¡µ
3. **è¶…æ—¶è®¾ç½®**: è§†é¢‘ç”Ÿæˆæœ€é•¿ç­‰å¾… 10 åˆ†é’Ÿï¼ŒYouTube ä¸Šä¼ æœ€é•¿ç­‰å¾… 20 åˆ†é’Ÿ

## ğŸ§ª æµ‹è¯•æ£€æŸ¥æ¸…å•

- [ ] åˆ·æ–° Chrome æ‰©å±• (chrome://extensions/)
- [ ] åˆ·æ–° React åº”ç”¨
- [ ] åœ¨å‘å¸ƒè®¡åˆ’ä¸­æ·»åŠ ä½¿ç”¨ Google Vids çš„è§†é¢‘
- [ ] ç‚¹å‡»æ‰§è¡Œé˜Ÿåˆ—
- [ ] éªŒè¯ Google Vids æ ‡ç­¾é¡µè‡ªåŠ¨æ‰“å¼€
- [ ] éªŒè¯æç¤ºè¯è‡ªåŠ¨å¡«å……
- [ ] éªŒè¯ Generate æŒ‰é’®è¢«ç‚¹å‡»
- [ ] ç­‰å¾…è§†é¢‘ç”Ÿæˆå®Œæˆï¼ˆæ—¶é—´è½´æ˜¾ç¤ºæ—¶é•¿ï¼‰
- [ ] éªŒè¯ File > Download è‡ªåŠ¨è§¦å‘
- [ ] éªŒè¯ YouTube Studio è‡ªåŠ¨æ‰“å¼€
- [ ] æ‰‹åŠ¨é€‰æ‹©ä¸‹è½½çš„è§†é¢‘æ–‡ä»¶
- [ ] éªŒè¯ title, description, tags è‡ªåŠ¨å¡«å……
- [ ] éªŒè¯ schedule date/time æ­£ç¡®è®¾ç½®
- [ ] éªŒè¯å‘å¸ƒæˆåŠŸ
- [ ] éªŒè¯ React æ¥æ”¶åˆ° YOUTUBE_UPLOAD_COMPLETE
- [ ] éªŒè¯é˜Ÿåˆ—ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªè§†é¢‘

## ğŸ“Š æ—¥å¿—ç›‘æ§

åœ¨å„ä¸ªé¡µé¢çš„ DevTools Console ä¸­ç›‘æ§ä»¥ä¸‹æ—¥å¿—ï¼š

### React (localhost)
```
ğŸ¬ [Video Generation] Using Autonomous Platform: googlevids
ğŸ“… [Google Vids/Flow] Schedule data for video X: ...
â³ [googlevids] Waiting for upload completion for video X...
âœ… [googlevids] Upload X Complete!
```

### Google Vids Tab
```
ğŸ¬ [Google Vids Ext] Detected Google Vids page...
ğŸ“¬ [Google Vids] Found pending request! Prompt: ...
âœ… [Google Vids] Timeline shows duration: 00:05.0 - Video is READY!
ğŸ” [Google Vids] Clicking File menu...
âœ… [Google Vids] Download triggered!
```

### Background (Service Worker)
```
ğŸ“¥ [Download Interceptor] Download started: ...
ğŸ¬ [Download Interceptor] Potential Google Vids video detected!
âœ… [Download Interceptor] Download completed: ID xxx
ğŸš€ [Download Interceptor] YouTube Studio upload page opened!
ğŸ‰ [Background] Relaying Upload Complete: videoId Status: completed
```

### YouTube Studio
```
ğŸ“ [Content] Requesting video data for Gemini ID: X
ğŸš€ RELAYING SUCCESS for Video ID: X, Link: ...
ğŸ‘‹ Closing YouTube Studio tab...
```
