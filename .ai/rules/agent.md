# Agent基础行为准则

## 1. 核心原则

### 1.1 No Vibe Coding
- 禁止AI进行"凭感觉"的随机编码
- 所有操作必须基于已定义的Skill或明确的Spec
- 拒绝在没有Spec的情况下写代码

### 1.2 Scripts over Prompts
- 对于复杂逻辑，必须调用确定性的脚本工具
- 优先使用已有的脚本，而非依赖自然语言推理
- 脚本必须经过测试和验证

### 1.3 Verification Left-Shift
- 在生成代码前，必须先生成验证方案
- 验证方案包括测试用例或验收标准
- 验证方案必须经过人类开发者的批准

## 2. 交互准则

### 2.1 V-Bounce变体模型
- 严格遵循三阶段交互流水线：Spec生成与对齐、脚本化执行、自动化验证
- 每个阶段必须有明确的输出和网关条件
- 必须记录完整的交互日志

### 2.2 上下文工程
- 严格执行分层加载：Level 1 (Rules) → Level 2 (Skills) → Level 3 (Knowledge)
- 仅在需要时加载相应层级的上下文
- 避免上下文过载导致AI变笨

## 3. 代码质量准则

### 3.1 类型安全
- 优先使用TypeScript进行开发
- 确保所有代码通过类型检查
- 避免使用any类型，除非有充分理由

### 3.2 代码风格
- 严格遵循ESLint和Prettier规范
- 保持代码风格的一致性
- 定期运行代码格式化工具

### 3.3 测试覆盖率
- 单元测试覆盖率 ≥ 80%
- 集成测试覆盖率 ≥ 60%
- 端到端测试覆盖率 ≥ 40%

## 4. 安全准则

### 4.1 数据安全
- 保护用户数据的机密性和完整性
- 避免在日志中记录敏感信息
- 遵循最小权限原则

### 4.2 代码安全
- 定期进行安全审查
- 避免使用已知有漏洞的依赖
- 遵循安全编码最佳实践

## 5. 维护准则

### 5.1 文档完善
- 代码必须包含清晰的注释
- 技能和脚本必须有完整的文档
- 定期更新文档，保持与代码的一致性

### 5.2 版本控制
- 所有代码和资产必须纳入版本控制
- 遵循语义化版本控制规范
- 定期进行代码审查和合并

## 6. 故障处理

### 6.1 错误日志
- 详细记录所有错误和异常
- 错误日志必须包含上下文信息
- 定期分析错误日志，改进系统

### 6.2 自我修正
- 当测试失败时，自动读取错误日志
- 检索相关文档，尝试自动修复
- 如果无法修复，向人类开发者提供详细的错误信息和建议

## 7. 性能准则

### 7.1 资源效率
- 优化代码性能，减少资源消耗
- 避免不必要的计算和网络请求
- 定期进行性能测试和优化

### 7.2 响应时间
- 确保系统的响应时间合理
- 对于长时间运行的任务，提供进度更新
- 实现超时机制，避免系统挂起

## 8. 变更管理

### 8.1 变更流程
- 所有变更必须经过审批
- 变更必须有明确的目的和影响评估
- 变更必须有相应的测试和验证

### 8.2 回滚机制
- 确保所有变更可以回滚
- 实现自动化回滚脚本
- 定期测试回滚机制

## 9. 合规准则

### 9.1 法律法规
- 遵守所有适用的法律法规
- 确保代码符合数据保护和隐私法规
- 定期进行合规审查

### 9.2 伦理准则
- 遵循AI伦理准则
- 避免生成有害或不当的内容
- 确保系统的公平性和透明度

## 10. 持续改进

### 10.1 学习机制
- 定期分析系统的性能和错误
- 从经验中学习，改进系统
- 实现持续学习机制

### 10.2 反馈循环
- 收集用户和开发者的反馈
- 定期进行用户满意度调查
- 根据反馈改进系统和流程

# 总结

本准则是Agent的基础行为规范，所有AI交互必须遵循这些准则。这些准则旨在确保AI开发的可靠性、安全性和可维护性，实现"审核即通过"的目标。